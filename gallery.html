<!-- filename: gallery.html -->
<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Gallery | Saheb Mohapatra</title>
  <meta name="description" content="Photo gallery of Saheb Mohapatra at conferences, seminars, and research events." />
  <meta name="author" content="Saheb Mohapatra" />
  <meta property="og:title" content="Gallery | Saheb Mohapatra" />
  <meta property="og:description" content="Snapshots from conferences, seminars, and research sessions." />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="images/saheb final.jpg" />
  <meta property="og:url" content="https://yourdomain.com/gallery.html" />
  <meta name="theme-color" content="#0077cc" />
  <link rel="icon" href="images/favicon.ico" type="image/x-icon" />

  <!-- Fonts & icons -->
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Merriweather:ital,wght@0,300;0,400;700;1,300;1,700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" crossorigin="anonymous" />

  <!-- Site stylesheet (use styles.css provided earlier) -->
  <link rel="stylesheet" href="css/styles.css" />

  <!-- Page-local tweaks: smaller gallery images, tighter grid, caption sizing -->
  <style>
    .logo-icon { font-weight:700; }

    /* make gallery thumbnails medium/small (override global rules locally) */
    .gallery-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
      gap: 0.6rem;
      align-items: start;
    }
    .gallery-grid figure {
      overflow: hidden;
      border-radius: 10px;
      margin: 0;
      background: var(--muted-surface);
      border: 1px solid rgba(0,0,0,0.04);
    }
    .gallery-grid figure img {
      width: 100%;
      height: 160px;      /* medium thumbnail height â€” change to 120/140/180 if you want */
      object-fit: cover;
      display: block;
      transition: transform 200ms ease;
    }
    .gallery-grid figure:hover img { transform: scale(1.03); }

    .gallery-grid figcaption {
      padding: 0.45rem 0.6rem;
      font-size: 0.9rem;
      color: var(--muted-text);
      text-align: center;
      background: linear-gradient(180deg, rgba(0,0,0,0.00), rgba(0,0,0,0.04));
    }

    /* ensure overlay lightbox still looks fine */
    .card img[style] { max-height: 80vh; max-width: 100%; }
  </style>
</head>
<body>
  <!-- SITE HEADER -->
  <header class="site-header" role="banner">
    <div class="header-inner">
      <a href="index.html" class="logo" aria-label="Home">
        <img src="images/logo.svg" alt="SM Logo" class="logo-icon" onerror="this.onerror=null;this.replaceWith(document.createElement('div')).textContent='SM'"/>
        <span class="logo-text">Saheb Mohapatra</span>
      </a>

      <!-- Desktop nav -->
      <nav aria-label="Main menu" class="nav-links" role="navigation">
        <a href="index.html">Home</a>
        <a href="cv.html">CV</a>
        <a href="research.html">Research</a>
        <a href="notes.html">Notes</a>
        <a href="gallery.html" class="active">Gallery</a>
        <a href="poetry.html">Poetry</a>
        <a href="misc.html">Misc</a>
        <a href="contact.html">Contact</a>
      </nav>

      <!-- Mobile hamburger -->
      <button class="mobile-toggle" aria-label="Open menu" aria-expanded="false">
        <i class="fa fa-bars" aria-hidden="true"></i>
      </button>
    </div>

    <!-- Mobile drawer -->
    <div class="mobile-drawer" aria-hidden="true">
      <nav aria-label="Main menu" class="nav-links" role="navigation">
        <a href="index.html">Home</a>
        <a href="cv.html">CV</a>
        <a href="research.html">Research</a>
        <a href="notes.html">Notes</a>
        <a href="gallery.html" class="active">Gallery</a>
        <a href="misc.html" >Miscellaneous</a>
      </nav>
    </div>
  </header>

  <!-- THEME TOGGLE -->
  <button class="theme-toggle" aria-label="Toggle theme" title="Toggle theme">
    <i class="fa fa-moon" aria-hidden="true"></i>
  </button>

  <!-- MAIN CONTENT -->
  <main class="container" id="main" role="main">
    <div class="page-grid">
      <!-- SIDEBAR (text preserved exactly) -->
      <aside class="sidebar" aria-labelledby="gallery-aside">
        <img src="images/saheb final.jpg" alt="Saheb Mohapatra portrait" class="profile-photo" loading="lazy" />
        <div id="gallery-aside" style="margin-top:.6rem;">
          <p class="intro">Moments from conferences &amp; seminars</p>
        </div>
      </aside>

      <!-- CONTENT (image captions and text preserved) -->
      <section class="content" aria-labelledby="gallery-heading">
        <h1 id="gallery-heading">Gallery</h1>
        <p>Below are some snapshots from conferences, seminars, and research sessions:</p>

        <div class="gallery-grid" role="list">
          <figure role="listitem" tabindex="0">
            <img src="images/victoria saheb.jpg" alt="In front of Victoria Memorial, Kolkata, India, 2024" loading="lazy" />
            <figcaption>Kolkata</figcaption>
          </figure>

          <figure role="listitem" tabindex="0">
            <img src="images/blackboard.jpg" alt="Saheb working on a blackboard" loading="lazy" />
            <figcaption>Algebraic Geometry Seminar at ISI Kolkata</figcaption>
          </figure>

          <figure role="listitem" tabindex="0">
            <img src="images/profile saheb.jpeg" alt="Beside ISI playground" loading="lazy" />
            <figcaption>ISI Kolkata Playground</figcaption>
          </figure>

          <!-- Add more images as needed -->
        </div>

        <!-- (Poetry section removed as requested) -->
      </section>
    </div>
  </main>

  <!-- FOOTER (single consolidated footer with colored icons) -->
  <footer class="site-footer" role="contentinfo">
    <div class="footer-inner">
      <p>&copy; 2025 Saheb Mohapatra. All rights reserved.</p>
      <div class="social" aria-label="social links">
        <a class="github" href="https://github.com/unramified" aria-label="GitHub" target="_blank" rel="noopener"><i class="fab fa-github"></i></a>
        <a class="linkedin" href="https://linkedin.com/in/saheb-mohapatra-5257aa2b1" aria-label="LinkedIn" target="_blank" rel="noopener"><i class="fab fa-linkedin"></i></a>
        <a class="instagram" href="https://instagram.com/saheb.mohapatra" aria-label="Instagram" target="_blank" rel="noopener"><i class="fab fa-instagram"></i></a>
        <a class="email" href="mailto:saheb.mohapatra.math@gmail.com" aria-label="Email"><i class="fas fa-envelope"></i></a>
      </div>
    </div>
  </footer>

  <!-- Optional: lightweight lightbox + keyboard (small, no external libs) -->
  <script>
    (function(){
      // Simple accessible lightbox for gallery figures
      const figures = Array.from(document.querySelectorAll('.gallery-grid figure'));
      if (!figures.length) return;

      // build overlay
      const overlay = document.createElement('div');
      overlay.className = 'card';
      overlay.style.position = 'fixed';
      overlay.style.inset = '0';
      overlay.style.display = 'none';
      overlay.style.alignItems = 'center';
      overlay.style.justifyContent = 'center';
      overlay.style.background = 'rgba(0,0,0,0.85)';
      overlay.style.zIndex = 120;
      overlay.setAttribute('role','dialog');
      overlay.setAttribute('aria-hidden','true');

      const imgWrap = document.createElement('div');
      imgWrap.style.maxWidth = '92%';
      imgWrap.style.maxHeight = '92%';
      imgWrap.style.overflow = 'auto';
      const imgEl = document.createElement('img');
      imgEl.style.width = '100%';
      imgEl.style.height = 'auto';
      imgEl.style.borderRadius = '10px';
      imgWrap.appendChild(imgEl);

      const cap = document.createElement('div');
      cap.style.marginTop = '0.6rem';
      cap.style.color = 'var(--text)';
      cap.style.textAlign = 'center';
      overlay.appendChild(imgWrap);
      overlay.appendChild(cap);

      document.body.appendChild(overlay);

      function openLightbox(src, caption) {
        imgEl.src = src;
        cap.textContent = caption || '';
        overlay.style.display = 'flex';
        overlay.setAttribute('aria-hidden','false');
        overlay.focus();
        document.documentElement.style.overflow = 'hidden';
      }
      function closeLightbox() {
        overlay.style.display = 'none';
        overlay.setAttribute('aria-hidden','true');
        document.documentElement.style.overflow = '';
      }

      // click/keyboard handlers
      figures.forEach(f => {
        const img = f.querySelector('img');
        const caption = f.querySelector('figcaption')?.textContent || '';
        f.addEventListener('click', () => openLightbox(img.src, caption));
        f.addEventListener('keydown', (e) => { if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); openLightbox(img.src, caption); } });
      });

      overlay.addEventListener('click', (e) => {
        if (e.target === overlay) closeLightbox();
      });
      document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape' && overlay.style.display === 'flex') closeLightbox();
      });
    })();
  </script>

  <!-- Main site JS (theme + mobile drawer) -->
  <script src="js/toggle.js" defer></script>
</body>
</html>
